var Scrolling,CM;Scrolling||(Scrolling={}),Scrolling.Scrollbar=function(a,b,c){function k(){var g=e,i=f;b.getDimensions(),g.up=o("Scrollbar-Up",a),g.down=o("Scrollbar-Down",a),g.track=o("Scrollbar-Track",a),g.handle=o("Scrollbar-Handle",g.track),i.trackTop=l(g.track),i.trackHeight=g.track.offsetHeight,i.handleHeight=g.handle.offsetHeight,i.x=0,i.y=0,h&&c.apply(d),m(b.getContent(),"mousewheel",t),m(a,"mousedown",q),d.reset()}function l(a){var b=0;if(a.offsetParent)for(;a.offsetParent;)b+=a.offsetTop,a=a.offsetParent;return b}function m(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function n(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)}function o(a,b){var d,c=b.childNodes;for(d=0;d<c.length;d++)if(c[d].className&&c[d].className.indexOf(a)>=0)return c[d]}function p(a){0>a&&(a=0),a>f.trackHeight-f.handleHeight&&(a=f.trackHeight-f.handleHeight),e.handle.style.top=a+"px",f.y=a,b.scrollTo(0,Math.round(f.y*j)),d.onScroll()}function q(a){return d.disabled?!1:(a=a?a:event,a.target||(a.target=a.srcElement),r(a.target.className,a),void 0)}function r(a,b){var c=f,i=g,k=b.clientY+document.body.scrollTop;a.indexOf("Scrollbar-Up")>=0&&u(-d.scrollAmount),a.indexOf("Scrollbar-Down")>=0&&u(d.scrollAmount),a.indexOf("Scrollbar-Track")>=0&&(h?d.tweenTo((k-c.trackTop-c.handleHeight/2)*j):p(k-c.trackTop-c.handleHeight/2)),a.indexOf("Scrollbar-Handle")>=0&&(i.grabPoint=k-l(e.handle),m(document,"mousemove",s,!1)),i.target=b.target,i.select=document.onselectstart,document.onselectstart=function(){return!1},d.onMouseDown(b.target,a,b),m(document,"mouseup",v)}function s(a){var b,d;a=a?a:event,b=f,parseInt(e.handle.style.top),d=a.clientY+document.body.scrollTop-b.trackTop,d>=b.trackHeight-b.handleHeight+g.grabPoint?d=b.trackHeight-b.handleHeight:d<=g.grabPoint?d=0:d-=g.grabPoint,p(d)}function t(a){if(d.disabled)return!1;a=a?a:event;var b=0;a.wheelDelta>=120&&(b=-1),a.wheelDelta<=-120&&(b=1),d.scrollBy(20*b),a.returnValue=!1}function u(a){g.disty=a,i=window.setInterval(function(){d.scrollBy(g.disty)},d.scrollSpeed)}function v(a){a=a?a:event,n(document,"mousemove",s),n(document,"mouseup",v),document.onselectstart=g.select,i&&window.clearInterval(i),d.onMouseUp(g.target,g.target.className,a)}var i,j,d=this,e={},f={},g={},h=c?!0:!1;this.onMouseDown=function(){},this.onMouseUp=function(){},this.onScroll=function(){},this.scrollAmount=5,this.scrollSpeed=30,this.disabled=!1,this.reset=function(){var c=f,d=e,g=b.getDimensions();j=(g.theight-g.vheight)/(c.trackHeight-c.handleHeight),d.handle.ondragstart=function(){return!1},d.handle.onmousedown=function(){return!1},d.handle.style.top="0px",c.y=0,b.reset(),p(0),g.theight<g.vheight&&(this.disabled=!0,a.className+=" Scrollbar-Disabled")},this.scrollTo=function(a){p(a/j)},this.scrollBy=function(a){p((b.getDimensions().y+a)/j)},this.swapContent=function(c,d,e){a=c,b.swapContent(a,d,e),k()},this.disable=function(){this.disabled=!0,a.className+="Scrollbar-Disabled"},this.enable=function(){this.disabled=!1,a.className=a.className.replace(/Scrollbar\-Disabled/,"")},this.getContent=function(){return b.getContent()},this.getComponents=function(){return e},this.getDimensions=function(){var a=b.getDimensions();return a.trackHeight=f.trackHeight,a.handleHeight=f.handleHeight,a},k()},Scrolling.Scroller=function(a,b,c,d){function p(b,c){h-j>b&&(b=h-j),b>0&&(b=0),i-k>c&&(c=i-k),c>0&&(c=0),n=b,o=c,a.style.left=n+"px",a.style.top=o+"px"}var f,g,h,i,j,k,l,m,n,o,e=a.getElementsByTagName("div");for(f=0;f<e.length;f++)e[f].className.indexOf("Scroller-Container")>-1&&(a=e[f]);g=this,h=b,i=c,j=a.offsetWidth,k=a.offsetHeight,l=d?!0:!1,this.onScrollStart=function(){},this.onScrollStop=function(){},this.onScroll=function(){},this.scrollSpeed=30,this.scrollBy=function(a,b){p(n-a,o-b),this.onScroll()},this.scrollTo=function(a,b){p(-a,-b),this.onScroll()},this.startScroll=function(a,b){this.stopScroll(),this.onScrollStart(),m=window.setInterval(function(){g.scrollBy(a,b)},this.scrollSpeed)},this.stopScroll=function(){m&&window.clearInterval(m),this.onScrollStop()},this.reset=function(){j=a.offsetWidth,k=a.offsetHeight,n=0,o=0,a.style.left="0px",a.style.top="0px",l&&d.apply(this)},this.swapContent=function(b,c,d){var e,f;for(a=b,e=a.getElementsByTagName("div"),f=0;f<e.length;f++)e[f].className.indexOf("Scroller-Container")>-1&&(a=e[f]);c&&(h=c),d&&(i=d),reset()},this.getDimensions=function(){return{vwidth:h,vheight:i,twidth:j,theight:k,x:-n,y:-o}},this.getContent=function(){return a},this.reset()},Scrolling.ScrollTween=function(){function h(a){var h,i,j;if(!d)return!1;for(h=e.getDimensions(),0>a&&(a=0),a>h.theight-h.vheight&&(a=h.theight-h.vheight),i=a-h.y,f=0,g=null,c=[],d=!1,j=0;j<b.length;j++)c[j]=Math.round(h.y+i*(b[j]/100));g=window.setInterval(function(){e.scrollTo(c[f]),f==b.length-1?(window.clearInterval(g),d=!0):f++},e.stepSpeed)}function i(a){e.tweenTo(e.getDimensions().y+a)}function j(a){b=a}var e,f,g,b=[0,25,50,70,85,95,97,99,100],c=[],d=!0;this.apply=function(a){e=a,e.tweenTo=h,e.tweenBy=i,e.setSteps=j,e.stepSpeed=30}},CM={},CM.intro={start:function(){$("#scroll").length&&CM.intro.iniScr()},iniScr:function(){var a=null,b=null;a=new Scrolling.Scroller(document.getElementById("scroll"),430,209),b=new Scrolling.Scrollbar(document.getElementById("scroll_bar"),a,new Scrolling.ScrollTween)}},$(function(){CM.intro.start()});